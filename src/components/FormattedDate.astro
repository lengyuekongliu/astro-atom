---
import { formatDate } from "@/utils/date";
import type { HTMLAttributes } from "astro/types";

type Props = HTMLAttributes<"time"> & {
	date: Date;
	separator?: String;
	dateTimeOptions?: Intl.DateTimeFormatOptions;
};

const { date, separator, dateTimeOptions, ...attrs } = Astro.props;

var postDate = formatDate(date);
if (separator) {
	postDate = postDate.replace("/", "-");
}
const ISO = date.toISOString();
---

<time datetime={ISO} title={ISO} {...attrs}>{postDate}</time>
